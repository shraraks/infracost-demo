{"format_version":"1.0","terraform_version":"1.1.5","planned_values":{"root_module":{"resources":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::325090237772:role/iam_for_lambda","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-03-16T13:52:49Z","description":"","force_detach_policies":false,"id":"iam_for_lambda","inline_policy":[{"name":"","policy":""}],"managed_policy_arns":[],"max_session_duration":3600,"name":"iam_for_lambda","name_prefix":"","path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROAUXMHDLVGCYDWVXXO4"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"aws_instance.web_app","mode":"managed","type":"aws_instance","name":"web_app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-03e0b06f01d45a4eb","arn":"arn:aws:ec2:us-east-1:325090237772:instance/i-030cc634a90538d3c","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":null,"iam_instance_profile":"","id":"i-030cc634a90538d3c","instance_initiated_shutdown_behavior":"stop","instance_state":"running","instance_type":"t3.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"","launch_template":[],"metadata_options":[{"http_endpoint":"enabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":null,"primary_network_interface_id":"eni-00614c2fb2384ad90","private_dns":"ip-172-31-5-208.ec2.internal","private_ip":"172.31.5.208","public_dns":"ec2-44-200-251-191.compute-1.amazonaws.com","public_ip":"44.200.251.191","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/xvda","encrypted":false,"iops":150,"kms_key_id":"","tags":{},"throughput":0,"volume_id":"vol-0746ae81e1bbcf873","volume_size":50,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["default"],"source_dest_check":true,"subnet_id":"subnet-b3ba98d7","tags":{},"tags_all":{},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null,"vpc_security_group_ids":["sg-d3b47ea4"]},"sensitive_values":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[{}],"network_interface":[],"root_block_device":[{"tags":{}}],"secondary_private_ips":[],"security_groups":[false],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}],"child_modules":[{"resources":[{"address":"module.lambda_function.aws_cloudwatch_log_group.lambda[0]","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1","id":"/aws/lambda/my-lambda1","kms_key_id":"","name":"/aws/lambda/my-lambda1","name_prefix":null,"retention_in_days":0,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.lambda_function.aws_iam_policy.logs[0]","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::325090237772:policy/my-lambda1-logs","description":"","id":"arn:aws:iam::325090237772:policy/my-lambda1-logs","name":"my-lambda1-logs","name_prefix":null,"path":"/","policy":"{\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*:*\",\"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*\"],\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAUXMHDLVGCEDE233ZH","tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.lambda_function.aws_iam_role.lambda[0]","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::325090237772:role/my-lambda1","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-03-23T17:04:59Z","description":"","force_detach_policies":true,"id":"my-lambda1","inline_policy":[{"name":"","policy":""}],"managed_policy_arns":["arn:aws:iam::325090237772:policy/my-lambda1-logs"],"max_session_duration":3600,"name":"my-lambda1","name_prefix":"","path":"/","permissions_boundary":null,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"unique_id":"AROAUXMHDLVGIAWV37MK7"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false],"tags":{},"tags_all":{}}},{"address":"module.lambda_function.aws_iam_role_policy_attachment.logs[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"my-lambda1-20220323170459933200000001","policy_arn":"arn:aws:iam::325090237772:policy/my-lambda1-logs","role":"my-lambda1"},"sensitive_values":{}},{"address":"module.lambda_function.aws_lambda_function.this[0]","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1","code_signing_config_arn":"","dead_letter_config":[],"description":"My awesome lambda function","environment":[],"file_system_config":[],"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","function_name":"my-lambda1","handler":"index.lambda_handler","id":"my-lambda1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:325090237772:function:my-lambda1/invocations","kms_key_arn":"","last_modified":"2022-03-23T17:09:16.544+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::325090237772:role/my-lambda1","runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","source_code_hash":"RBfFIc7uXLjzt7DLvuDIzYXBZkvIjYW9gTm1MR3snqM=","source_code_size":193,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[],"file_system_config":[],"image_config":[],"layers":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}},{"address":"module.lambda_function.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds\\\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./lambda-function1/index.py\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.plan.json","id":"12747212bddf2c1a7ccbfae30bbc011ddca7485b","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"module.lambda_function.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"id":"2851455341783218620","triggers":{"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","timestamp":"1648055351155191800"}},"sensitive_values":{"triggers":{}}}],"address":"module.lambda_function"}]}},"resource_drift":[{"address":"module.lambda_function.aws_lambda_function.this[0]","module_address":"module.lambda_function","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1","code_signing_config_arn":"","dead_letter_config":[],"description":"My awesome lambda function","environment":[],"file_system_config":[],"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","function_name":"my-lambda1","handler":"index.lambda_handler","id":"my-lambda1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:325090237772:function:my-lambda1/invocations","kms_key_arn":"","last_modified":"2022-03-23T17:09:16.544+0000","layers":null,"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::325090237772:role/my-lambda1","runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","source_code_hash":"RBfFIc7uXLjzt7DLvuDIzYXBZkvIjYW9gTm1MR3snqM=","source_code_size":193,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1","code_signing_config_arn":"","dead_letter_config":[],"description":"My awesome lambda function","environment":[],"file_system_config":[],"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","function_name":"my-lambda1","handler":"index.lambda_handler","id":"my-lambda1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:325090237772:function:my-lambda1/invocations","kms_key_arn":"","last_modified":"2022-03-23T17:09:16.544+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::325090237772:role/my-lambda1","runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","source_code_hash":"RBfFIc7uXLjzt7DLvuDIzYXBZkvIjYW9gTm1MR3snqM=","source_code_size":193,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after_unknown":{},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[],"file_system_config":[],"image_config":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[],"file_system_config":[],"image_config":[],"layers":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}}}],"resource_changes":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::325090237772:role/iam_for_lambda","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-03-16T13:52:49Z","description":"","force_detach_policies":false,"id":"iam_for_lambda","inline_policy":[{"name":"","policy":""}],"managed_policy_arns":[],"max_session_duration":3600,"name":"iam_for_lambda","name_prefix":"","path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROAUXMHDLVGCYDWVXXO4"},"after":{"arn":"arn:aws:iam::325090237772:role/iam_for_lambda","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-03-16T13:52:49Z","description":"","force_detach_policies":false,"id":"iam_for_lambda","inline_policy":[{"name":"","policy":""}],"managed_policy_arns":[],"max_session_duration":3600,"name":"iam_for_lambda","name_prefix":"","path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROAUXMHDLVGCYDWVXXO4"},"after_unknown":{},"before_sensitive":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"aws_instance.web_app","mode":"managed","type":"aws_instance","name":"web_app","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"ami":"ami-03e0b06f01d45a4eb","arn":"arn:aws:ec2:us-east-1:325090237772:instance/i-030cc634a90538d3c","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":null,"iam_instance_profile":"","id":"i-030cc634a90538d3c","instance_initiated_shutdown_behavior":"stop","instance_state":"running","instance_type":"t3.nano","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"","launch_template":[],"metadata_options":[{"http_endpoint":"enabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":null,"primary_network_interface_id":"eni-00614c2fb2384ad90","private_dns":"ip-172-31-5-208.ec2.internal","private_ip":"172.31.5.208","public_dns":"ec2-44-200-251-191.compute-1.amazonaws.com","public_ip":"44.200.251.191","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/xvda","encrypted":false,"iops":150,"kms_key_id":"","tags":{},"throughput":0,"volume_id":"vol-0746ae81e1bbcf873","volume_size":50,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["default"],"source_dest_check":true,"subnet_id":"subnet-b3ba98d7","tags":{},"tags_all":{},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null,"vpc_security_group_ids":["sg-d3b47ea4"]},"after":{"ami":"ami-03e0b06f01d45a4eb","arn":"arn:aws:ec2:us-east-1:325090237772:instance/i-030cc634a90538d3c","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":null,"iam_instance_profile":"","id":"i-030cc634a90538d3c","instance_initiated_shutdown_behavior":"stop","instance_state":"running","instance_type":"t3.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"","launch_template":[],"metadata_options":[{"http_endpoint":"enabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":null,"primary_network_interface_id":"eni-00614c2fb2384ad90","private_dns":"ip-172-31-5-208.ec2.internal","private_ip":"172.31.5.208","public_dns":"ec2-44-200-251-191.compute-1.amazonaws.com","public_ip":"44.200.251.191","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/xvda","encrypted":false,"iops":150,"kms_key_id":"","tags":{},"throughput":0,"volume_id":"vol-0746ae81e1bbcf873","volume_size":50,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["default"],"source_dest_check":true,"subnet_id":"subnet-b3ba98d7","tags":{},"tags_all":{},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null,"vpc_security_group_ids":["sg-d3b47ea4"]},"after_unknown":{},"before_sensitive":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[{}],"network_interface":[],"root_block_device":[{"tags":{}}],"secondary_private_ips":[],"security_groups":[false],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[{}],"network_interface":[],"root_block_device":[{"tags":{}}],"secondary_private_ips":[],"security_groups":[false],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}},{"address":"module.lambda_function.aws_cloudwatch_log_group.lambda[0]","module_address":"module.lambda_function","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1","id":"/aws/lambda/my-lambda1","kms_key_id":"","name":"/aws/lambda/my-lambda1","name_prefix":null,"retention_in_days":0,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"}},"after":{"arn":"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1","id":"/aws/lambda/my-lambda1","kms_key_id":"","name":"/aws/lambda/my-lambda1","name_prefix":null,"retention_in_days":0,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.lambda_function.aws_iam_policy.logs[0]","module_address":"module.lambda_function","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::325090237772:policy/my-lambda1-logs","description":"","id":"arn:aws:iam::325090237772:policy/my-lambda1-logs","name":"my-lambda1-logs","name_prefix":null,"path":"/","policy":"{\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*:*\",\"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*\"],\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAUXMHDLVGCEDE233ZH","tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"}},"after":{"arn":"arn:aws:iam::325090237772:policy/my-lambda1-logs","description":"","id":"arn:aws:iam::325090237772:policy/my-lambda1-logs","name":"my-lambda1-logs","name_prefix":null,"path":"/","policy":"{\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*:*\",\"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*\"],\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAUXMHDLVGCEDE233ZH","tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.lambda_function.aws_iam_role.lambda[0]","module_address":"module.lambda_function","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::325090237772:role/my-lambda1","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-03-23T17:04:59Z","description":"","force_detach_policies":true,"id":"my-lambda1","inline_policy":[{"name":"","policy":""}],"managed_policy_arns":["arn:aws:iam::325090237772:policy/my-lambda1-logs"],"max_session_duration":3600,"name":"my-lambda1","name_prefix":"","path":"/","permissions_boundary":null,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"unique_id":"AROAUXMHDLVGIAWV37MK7"},"after":{"arn":"arn:aws:iam::325090237772:role/my-lambda1","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-03-23T17:04:59Z","description":"","force_detach_policies":true,"id":"my-lambda1","inline_policy":[{"name":"","policy":""}],"managed_policy_arns":["arn:aws:iam::325090237772:policy/my-lambda1-logs"],"max_session_duration":3600,"name":"my-lambda1","name_prefix":"","path":"/","permissions_boundary":null,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"unique_id":"AROAUXMHDLVGIAWV37MK7"},"after_unknown":{},"before_sensitive":{"inline_policy":[{}],"managed_policy_arns":[false],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[{}],"managed_policy_arns":[false],"tags":{},"tags_all":{}}}},{"address":"module.lambda_function.aws_iam_role_policy_attachment.logs[0]","module_address":"module.lambda_function","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"my-lambda1-20220323170459933200000001","policy_arn":"arn:aws:iam::325090237772:policy/my-lambda1-logs","role":"my-lambda1"},"after":{"id":"my-lambda1-20220323170459933200000001","policy_arn":"arn:aws:iam::325090237772:policy/my-lambda1-logs","role":"my-lambda1"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.lambda_function.aws_lambda_function.this[0]","module_address":"module.lambda_function","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1","code_signing_config_arn":"","dead_letter_config":[],"description":"My awesome lambda function","environment":[],"file_system_config":[],"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","function_name":"my-lambda1","handler":"index.lambda_handler","id":"my-lambda1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:325090237772:function:my-lambda1/invocations","kms_key_arn":"","last_modified":"2022-03-23T17:09:16.544+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::325090237772:role/my-lambda1","runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","source_code_hash":"RBfFIc7uXLjzt7DLvuDIzYXBZkvIjYW9gTm1MR3snqM=","source_code_size":193,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1","code_signing_config_arn":"","dead_letter_config":[],"description":"My awesome lambda function","environment":[],"file_system_config":[],"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","function_name":"my-lambda1","handler":"index.lambda_handler","id":"my-lambda1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:325090237772:function:my-lambda1/invocations","kms_key_arn":"","last_modified":"2022-03-23T17:09:16.544+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::325090237772:role/my-lambda1","runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","source_code_hash":"RBfFIc7uXLjzt7DLvuDIzYXBZkvIjYW9gTm1MR3snqM=","source_code_size":193,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after_unknown":{},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[],"file_system_config":[],"image_config":[],"layers":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[],"file_system_config":[],"image_config":[],"layers":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}}},{"address":"module.lambda_function.local_file.archive_plan[0]","module_address":"module.lambda_function","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["no-op"],"before":{"content":"{\"filename\": \"builds\\\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./lambda-function1/index.py\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.plan.json","id":"12747212bddf2c1a7ccbfae30bbc011ddca7485b","sensitive_content":null,"source":null},"after":{"content":"{\"filename\": \"builds\\\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./lambda-function1/index.py\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.plan.json","id":"12747212bddf2c1a7ccbfae30bbc011ddca7485b","sensitive_content":null,"source":null},"after_unknown":{},"before_sensitive":{"sensitive_content":true},"after_sensitive":{"sensitive_content":true}}},{"address":"module.lambda_function.null_resource.archive[0]","module_address":"module.lambda_function","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["no-op"],"before":{"id":"2851455341783218620","triggers":{"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","timestamp":"1648055351155191800"}},"after":{"id":"2851455341783218620","triggers":{"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","timestamp":"1648055351155191800"}},"after_unknown":{},"before_sensitive":{"triggers":{}},"after_sensitive":{"triggers":{}}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.1.5","values":{"root_module":{"resources":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::325090237772:role/iam_for_lambda","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-03-16T13:52:49Z","description":"","force_detach_policies":false,"id":"iam_for_lambda","inline_policy":[{"name":"","policy":""}],"managed_policy_arns":[],"max_session_duration":3600,"name":"iam_for_lambda","name_prefix":"","path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROAUXMHDLVGCYDWVXXO4"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"aws_instance.web_app","mode":"managed","type":"aws_instance","name":"web_app","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-03e0b06f01d45a4eb","arn":"arn:aws:ec2:us-east-1:325090237772:instance/i-030cc634a90538d3c","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":null,"iam_instance_profile":"","id":"i-030cc634a90538d3c","instance_initiated_shutdown_behavior":"stop","instance_state":"running","instance_type":"t3.nano","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"","launch_template":[],"metadata_options":[{"http_endpoint":"enabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":null,"primary_network_interface_id":"eni-00614c2fb2384ad90","private_dns":"ip-172-31-5-208.ec2.internal","private_ip":"172.31.5.208","public_dns":"ec2-44-200-251-191.compute-1.amazonaws.com","public_ip":"44.200.251.191","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/xvda","encrypted":false,"iops":150,"kms_key_id":"","tags":{},"throughput":0,"volume_id":"vol-0746ae81e1bbcf873","volume_size":50,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["default"],"source_dest_check":true,"subnet_id":"subnet-b3ba98d7","tags":{},"tags_all":{},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null,"vpc_security_group_ids":["sg-d3b47ea4"]},"sensitive_values":{"capacity_reservation_specification":[{"capacity_reservation_target":[]}],"credit_specification":[{}],"ebs_block_device":[],"enclave_options":[{}],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[{}],"network_interface":[],"root_block_device":[{"tags":{}}],"secondary_private_ips":[],"security_groups":[false],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}],"child_modules":[{"resources":[{"address":"module.lambda_function.aws_cloudwatch_log_group.lambda[0]","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1","id":"/aws/lambda/my-lambda1","kms_key_id":"","name":"/aws/lambda/my-lambda1","name_prefix":null,"retention_in_days":0,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.lambda_function.aws_iam_policy.logs[0]","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::325090237772:policy/my-lambda1-logs","description":"","id":"arn:aws:iam::325090237772:policy/my-lambda1-logs","name":"my-lambda1-logs","name_prefix":null,"path":"/","policy":"{\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*:*\",\"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*\"],\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAUXMHDLVGCEDE233ZH","tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.lambda_function.aws_cloudwatch_log_group.lambda","module.lambda_function.data.aws_arn.log_group_arn","module.lambda_function.data.aws_cloudwatch_log_group.lambda","module.lambda_function.data.aws_iam_policy_document.logs"]},{"address":"module.lambda_function.aws_iam_role.lambda[0]","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::325090237772:role/my-lambda1","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-03-23T17:04:59Z","description":"","force_detach_policies":true,"id":"my-lambda1","inline_policy":[{"name":"","policy":""}],"managed_policy_arns":["arn:aws:iam::325090237772:policy/my-lambda1-logs"],"max_session_duration":3600,"name":"my-lambda1","name_prefix":"","path":"/","permissions_boundary":null,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"unique_id":"AROAUXMHDLVGIAWV37MK7"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false],"tags":{},"tags_all":{}},"depends_on":["module.lambda_function.data.aws_iam_policy_document.assume_role"]},{"address":"module.lambda_function.aws_iam_role_policy_attachment.logs[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"my-lambda1-20220323170459933200000001","policy_arn":"arn:aws:iam::325090237772:policy/my-lambda1-logs","role":"my-lambda1"},"sensitive_values":{},"depends_on":["module.lambda_function.aws_cloudwatch_log_group.lambda","module.lambda_function.aws_iam_policy.logs","module.lambda_function.aws_iam_role.lambda","module.lambda_function.data.aws_arn.log_group_arn","module.lambda_function.data.aws_cloudwatch_log_group.lambda","module.lambda_function.data.aws_iam_policy_document.assume_role","module.lambda_function.data.aws_iam_policy_document.logs"]},{"address":"module.lambda_function.aws_lambda_function.this[0]","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1","code_signing_config_arn":"","dead_letter_config":[],"description":"My awesome lambda function","environment":[],"file_system_config":[],"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","function_name":"my-lambda1","handler":"index.lambda_handler","id":"my-lambda1","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:325090237772:function:my-lambda1/invocations","kms_key_arn":"","last_modified":"2022-03-23T17:09:16.544+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:325090237772:function:my-lambda1:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::325090237772:role/my-lambda1","runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","source_code_hash":"RBfFIc7uXLjzt7DLvuDIzYXBZkvIjYW9gTm1MR3snqM=","source_code_size":193,"tags":{"Name":"my-lambda1"},"tags_all":{"Name":"my-lambda1"},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[],"file_system_config":[],"image_config":[],"layers":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"depends_on":["module.lambda_function.aws_cloudwatch_log_group.lambda","module.lambda_function.aws_iam_role.lambda","module.lambda_function.aws_s3_bucket_object.lambda_package","module.lambda_function.data.aws_iam_policy_document.assume_role","module.lambda_function.data.external.archive_prepare","module.lambda_function.local_file.archive_plan","module.lambda_function.null_resource.archive"]},{"address":"module.lambda_function.data.aws_iam_policy_document.assume_role[0]","mode":"data","type":"aws_iam_policy_document","name":"assume_role","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3693445097","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["lambda.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.lambda_function.data.aws_iam_policy_document.logs[0]","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2906341339","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*:*\",\n        \"arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*\"\n      ]\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*","arn:aws:logs:us-east-1:325090237772:log-group:/aws/lambda/my-lambda1:*:*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}},{"address":"module.lambda_function.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.lambda_function.data.external.archive_prepare[0]","mode":"data","type":"external","name":"archive_prepare","index":0,"provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["python.exe",".terraform/modules/lambda_function/package.py","prepare"],"query":{"artifacts_dir":"builds","hash_extra":"","hash_extra_paths":"[]","paths":"{\"cwd\":\"C:/Users/rgannarapu/git/infracost-demo\",\"module\":\".terraform/modules/lambda_function\",\"root\":\".\"}","recreate_missing_package":"true","runtime":"python3.8","source_path":"\"./lambda-function1/index.py\""},"result":{"build_plan":"{\"filename\": \"builds\\\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./lambda-function1/index.py\", null]]}","build_plan_filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.plan.json","filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","timestamp":"1648055351155191800","was_missing":"false"},"working_dir":null},"sensitive_values":{"program":[false,false,false],"query":{},"result":{}}},{"address":"module.lambda_function.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds\\\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./lambda-function1/index.py\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.plan.json","id":"12747212bddf2c1a7ccbfae30bbc011ddca7485b","sensitive_content":null,"source":null},"sensitive_values":{},"depends_on":["module.lambda_function.data.external.archive_prepare"]},{"address":"module.lambda_function.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"id":"2851455341783218620","triggers":{"filename":"builds\\0647e344ed9601c2b9e5f9ac6f25da16759cb10d1e365d99d41d27ba2d35c4ae.zip","timestamp":"1648055351155191800"}},"sensitive_values":{"triggers":{}},"depends_on":["module.lambda_function.data.external.archive_prepare","module.lambda_function.local_file.archive_plan"]}],"address":"module.lambda_function"}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"us-east-1"}}},"module.lambda_function:aws":{"name":"aws","version_constraint":"\u003e= 3.69.0","module_address":"module.lambda_function"},"module.lambda_function:external":{"name":"external","version_constraint":"\u003e= 1.0.0","module_address":"module.lambda_function"},"module.lambda_function:local":{"name":"local","version_constraint":"\u003e= 1.0.0","module_address":"module.lambda_function"},"module.lambda_function:null":{"name":"null","version_constraint":"\u003e= 2.0.0","module_address":"module.lambda_function"}},"root_module":{"resources":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\r\n  \"Version\": \"2012-10-17\",\r\n  \"Statement\": [\r\n    {\r\n      \"Action\": \"sts:AssumeRole\",\r\n      \"Principal\": {\r\n        \"Service\": \"lambda.amazonaws.com\"\r\n      },\r\n      \"Effect\": \"Allow\",\r\n      \"Sid\": \"\"\r\n    }\r\n  ]\r\n}\r\n"},"name":{"constant_value":"iam_for_lambda"}},"schema_version":0},{"address":"aws_instance.web_app","mode":"managed","type":"aws_instance","name":"web_app","provider_config_key":"aws","expressions":{"ami":{"constant_value":"ami-03e0b06f01d45a4eb"},"instance_type":{"constant_value":"t3.micro"},"root_block_device":[{"volume_size":{"constant_value":50}}]},"schema_version":1}],"module_calls":{"lambda_function":{"source":"terraform-aws-modules/lambda/aws","expressions":{"description":{"constant_value":"My awesome lambda function"},"function_name":{"constant_value":"my-lambda1"},"handler":{"constant_value":"index.lambda_handler"},"runtime":{"constant_value":"python3.8"},"source_path":{"references":["path.module"]},"tags":{"constant_value":{"Name":"my-lambda1"}}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"lambda_function:aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"lambda_function:aws","expressions":{"name":{"references":["local.role_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"lambda_function:aws","expressions":{"name":{"references":["local.role_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"lambda_function:aws","expressions":{"name":{"references":["local.role_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"lambda_function:aws","expressions":{"name":{"references":["local.role_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"lambda_function:aws","expressions":{"name":{"references":["local.role_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"lambda_function:aws","expressions":{"name":{"references":["local.role_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"lambda_function:aws","expressions":{"name":{"references":["local.role_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"lambda_function:aws","expressions":{"name":{"references":["local.role_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"lambda_function:aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"lambda_function:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"lambda_function:aws","expressions":{"batch_size":{"references":["each.value"]},"bisect_batch_on_function_error":{"references":["each.value"]},"enabled":{"references":["each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value"]},"maximum_record_age_in_seconds":{"references":["each.value"]},"maximum_retry_attempts":{"references":["each.value"]},"parallelization_factor":{"references":["each.value"]},"queues":{"references":["each.value"]},"starting_position":{"references":["each.value"]},"starting_position_timestamp":{"references":["each.value"]},"topics":{"references":["each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"lambda_function:aws","expressions":{"architectures":{"references":["var.architectures"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_bucket_object.lambda_package","aws_cloudwatch_log_group.lambda"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"lambda_function:aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"lambda_function:aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_bucket_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"lambda_function:aws","expressions":{"action":{"references":["each.value"]},"event_source_token":{"references":["each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value"]},"source_arn":{"references":["each.value"]},"statement_id":{"references":["each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"lambda_function:aws","expressions":{"action":{"references":["each.value"]},"event_source_token":{"references":["each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value","each.value"]},"source_account":{"references":["each.value"]},"source_arn":{"references":["each.value"]},"statement_id":{"references":["each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"lambda_function:aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_bucket_object.lambda_package","mode":"managed","type":"aws_s3_bucket_object","name":"lambda_package","provider_config_key":"lambda_function:aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"lambda_function:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"lambda_function:null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"lambda_function:aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"lambda_function:aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"lambda_function:aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"lambda_function:aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"lambda_function:aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"lambda_function:aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"lambda_function:aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"lambda_function:aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"lambda_function:aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"lambda_function:aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"lambda_function:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}}}}}}}
